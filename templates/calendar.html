{% extends 'layout_two.html' %}
{% block content %}

<div class="calendar_page">
    <h1> Calendar </h1>
    <div id="calendar"></div>
</div>

<!-- Add the required JavaScript dependencies for FullCalendar -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
<!-- Load your custom script.js -->
<script src="static/script.js"></script>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    var calendarEl = document.getElementById('calendar');

    // Initialize FullCalendar
    var calendar = new FullCalendar.Calendar(calendarEl, {
      plugins: ['dayGrid', 'interaction'],
      selectable: true, // Allow selecting a date range to add an event
      editable: true, // Allow events to be resized and dragged
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,dayGridWeek,dayGridDay',
      },
      events: [], // Initialize without any events
      // Add an event when a date range is selected
      select: function (info) {
        var title = prompt('Enter event title:');
        if (title) {
          calendar.addEvent({
            title: title,
            start: info.startStr,
            end: info.endStr,
            allDay: info.allDay,
          });
        }
        calendar.unselect();
      },
      // Delete an event when it is clicked
      eventClick: function (info) {
        if (confirm('Are you sure you want to delete this event?')) {
          info.event.remove();
        }
      },
    });

    // Render the calendar
    calendar.render();
  });
</script>

{% endblock content %}
